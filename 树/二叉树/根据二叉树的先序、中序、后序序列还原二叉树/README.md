### 基本思想

<em>将序列中的元素从 1 开始编号</em>

* 先序遍历的第 1 个节点和后序遍历是最后一个节点一定是根节点</li>
  * 当根节点是中序遍历的第 1 个节点时，说明根节点的左子树为空，先序遍历的第 2 个节点是根节点的右孩子节点
  * 当根节点是中序遍历的最后一个节点时，说明根节点的右子树为空，先序遍历的第 2 个节点是根节点的左孩子节点
  * 否则，根节点的左右子树都不为空 ，先序遍历的第 2 个节点是根节点的左孩子，后续遍历的倒数第二个节点是根节点的右孩子

<span>通过上面的推断，可以<strong>找到根节点及其左右孩子节点，并建立三者之间的关系</strong>。接下来只要找到左子树和右子树的先序、中序、后序序列，然后用上面的方式递归地处理就可以将所有节点之间的关系建立起来。</span>

根据先序、中序、后序序列获取左右子树的先序，中序，后序序列的方法如下：

* 如果根节点的左子树为空，则先序序列从第 2 个到最后一个元素之间的子序列是右子树的先序序列

* 如果根节点的左子树为空，则中序序列从第 2 个到最后一个元素之间的子序列是右子树的中序序列

* 如果根节点的左子树为空，则后序序列从第 1 个到倒数第二个元素之间的子序列是右子树的后序序列

* 如果根节点的右子树为空，则先序序列从第 2 个到最后一个元素之间的子序列是左子树的先序序列

* 如果根节点的右子树为空，则中序序列从第 1 个到倒数第二个元素之间的子序列是左子树的中序序列

* 如果根节点的右子树为空，则后序序列从第 1 个到倒数第二个元素之间的子序列是左子树的后序序列

* 否则
  * 找到根的右孩子节点在先序序列中的位置 pos，则先序序列从第 2 个到第 pos \- 1 个元素之间的子序列是左子树的先序序列；先序序列从第 pos 个到最后一个元素之间的子序列是右子树的先序序列
  * 找到根节点在中序序列中的位置 pos，则中序序列从第 1 个到第 pos \- 1 个元素之间的子序列是左子树的中序序列；中序序列从第 pos + 1 个到最后一个元素之间的子序列是右子树的中序序列 
  * 找到根的左孩子节点在后序序列中的位置 pos，则后序序列从第 1 个到第 pos 个元素之间的子序列是左子树的后序序列；后序序列从第 pos + 1 个到倒数第二个元素之间的子序列是右子树的后序序列
