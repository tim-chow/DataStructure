### 线索二叉树的原理

在二叉树的<em>二叉链表</em>表示法中，有 n 个节点的二叉树，共有 2&times;n 个指针域，其中非空指针域的数量是 n \- 1，空指针域的数量是 n + 1。

试作如下规定：

* 若节点有左子树，则其左指针域指向其左孩子，否则令其左指针域指向前驱

* 若节点有右子树，则其右指针域指向其右孩子，否则令其右指针域指向后继

为了避免混淆，需要改变节点结构，增加两个标志域：ltag、rtag。

其中：

* ltag == 0 表示左指针域指向节点的左孩子
* ltag == 1 表示左指针域指向节点的前驱
* rtag == 0 表示右指针域指向节点的右孩子
* rtag == 1 表示右指针域指向节点的后继

其中指向节点的前驱和后继的指针叫<strong>线索</strong>，加上线索的二叉树叫<strong>线索二叉树</strong>，对二叉树以某种次序遍历使其变成线索二叉树的过程叫<strong>线索化</strong>。

---

### 构建线索二叉树

线索化的实质是<strong>将二叉链表中的空指针修改为指向前驱或后继的线索</strong>。因为只有在遍历时才能得到前驱和后继的信息，所以线索化的过程是<strong>在遍历的过程中，修改节点的空指针</strong>：

附设一个指针 pre，使其始终指向刚刚被访问过的节点，若指针 p 指向当前正在访问的节点，则 pre 指向它的前驱。
